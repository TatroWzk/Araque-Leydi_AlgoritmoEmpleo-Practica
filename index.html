<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MovieMash | Algoritmo de Aprendizaje</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="bg">
    <div class="noise"></div>
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
  </div>

  <header class="header">
    <div class="container">
      <div class="brand">
        <div class="logo" aria-hidden="true">üé¨</div>
        <div class="brand-text">
          <h1>MovieMash</h1>
          <p>Algoritmo de recomendaci√≥n para maximizar aprendizaje</p>
        </div>
      </div>

      <div class="header-actions">
        <button class="btn btn-ghost" id="btnReset" type="button" title="Reiniciar resultados">
          Reiniciar
        </button>

        <div class="dropdown">
          <button class="btn btn-primary" id="btnDownload" type="button" aria-haspopup="true" aria-expanded="false">
            Descargar resultados
          </button>
          <div class="menu" id="downloadMenu" role="menu" aria-label="Opciones de descarga">
            <button class="menu-item" id="downloadCSV" role="menuitem" type="button">üìÑ Descargar CSV</button>
            <button class="menu-item" id="downloadJSON" role="menuitem" type="button">üßæ Descargar JSON</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container main">
    <section class="card hero">
      <div class="hero-top">
        <div>
          <h2>¬øQu√© pel√≠cula te ense√±a m√°s?</h2>
          <p class="muted">
            Elige la que te aporte m√°s aprendizaje. El ranking se actualiza autom√°ticamente.
          </p>
        </div>

        <div class="stats">
          <div class="stat">
            <span class="stat-label">Votos totales</span>
            <span class="stat-value" id="totalVotes">0</span>
          </div>
          <div class="stat">
            <span class="stat-label">Pel√≠culas</span>
            <span class="stat-value" id="movieCount">0</span>
          </div>
        </div>
      </div>

      <div class="comparison" aria-label="Comparaci√≥n de pel√≠culas">
        <button class="movie-card" id="cardA" type="button" onclick="vote(0)" aria-label="Votar pel√≠cula A">
          <div class="poster">
            <img id="imgA" src="" alt="Poster pel√≠cula A" loading="lazy" />
            <span class="pill" id="pillA">Opci√≥n A</span>
          </div>
          <div class="movie-meta">
            <h3 id="titleA">‚Äî</h3>
            <div class="mini">
              <span id="miniA">0 wins ‚Ä¢ 0 comps</span>
              <span class="mini-score" id="scoreA">Score: 0.00</span>
            </div>
          </div>
        </button>

        <div class="vs" aria-hidden="true">
          <span>VS</span>
        </div>

        <button class="movie-card" id="cardB" type="button" onclick="vote(1)" aria-label="Votar pel√≠cula B">
          <div class="poster">
            <img id="imgB" src="" alt="Poster pel√≠cula B" loading="lazy" />
            <span class="pill" id="pillB">Opci√≥n B</span>
          </div>
          <div class="movie-meta">
            <h3 id="titleB">‚Äî</h3>
            <div class="mini">
              <span id="miniB">0 wins ‚Ä¢ 0 comps</span>
              <span class="mini-score" id="scoreB">Score: 0.00</span>
            </div>
          </div>
        </button>
      </div>

      <div class="hint">
        Tip: tambi√©n puedes usar teclado ‚Üí <kbd>‚Üê</kbd> para A y <kbd>‚Üí</kbd> para B
      </div>
    </section>

    <section class="card ranking">
      <div class="ranking-head">
        <div>
          <h2>üìä Ranking de Aprendizaje</h2>
          <p class="muted">Ordenado por score (wins / comparaciones).</p>
        </div>
        <div class="legend">
          <span class="dot"></span> Score
        </div>
      </div>

      <ul id="rankingList" class="ranking-list" aria-live="polite"></ul>
    </section>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true"></div>

  <script src="script.js"></script>
</body>
</html>

